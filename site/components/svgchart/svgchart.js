/* svgchart v0.0.1 - 1/2/2014
   http://
   Copyright (c) 2014  - Licensed  */
(function(){var Base,Chart,ChartLine,Maths,Ruler,Tooltip,UI,Utils,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},__slice=[].slice;Maths={max:function(vals){return Math.max.apply(Math,vals)},min:function(vals){return Math.min.apply(Math,vals)},rangeToPercent:function(number,range_min,range_max,constrain_min,constrain_max){if(constrain_min==null){constrain_min=false}if(constrain_max==null){constrain_max=false}if(constrain_min&&number<range_min){return 0}else if(constrain_max&&number>range_max){return 1}else{return(number-range_min)/(range_max-range_min)}},percentToRange:function(percent,range_min,range_max){return(range_max-range_min)*percent+range_min},radiansToDegrees:function(radians){return radians*180/Math.PI},degreesToRadians:function(degrees){return degrees*Math.PI/180},sign:function(num){if(num<0){return-1}else{return 1}},constrain:function(num,min,max){if(min==null){min=0}if(max==null){max=1}if(num<min){min}if(num>max){max}return num},randomRange:function(min,max,round){var num;if(round==null){round=false}num=min+Math.random()*(max-min);if(round){return Math.round(num)}else{return num}},map:function(num,min1,max1,min2,max2,round){var num1,num2;if(round==null){round=false}num1=(num-min1)/(max1-min1);num2=num1*(max2-min2)+min2;if(round){return Math.round(num2)}else{return num2}}};Utils={mergeOptions:function(default_options,options){var key,value;if(default_options==null){default_options={}}if(options==null){options={}}for(key in options){value=options[key];default_options[key]=value}return default_options}};Base=function(){var DEFAULT_OPTIONS;DEFAULT_OPTIONS={marginTop:0,marginBottom:0,marginLeft:0,marginRight:0};function Base(container,options){this.container=container;if(options==null){options={}}this.data=[];this.ui_elements=[];this.options=Utils.mergeOptions(DEFAULT_OPTIONS,options);this._setWidthHeight();this._createSVG();this.tooltip=Tooltip(this.container,this.svg).init()}Base.prototype.setData=function(data){this.data=data;this._setMaxMin();return this.num_datasets=this.data.dataset?this.data.dataset.length:this.data.length};Base.prototype.clear=function(){var ui,_i,_len,_ref;_ref=this.ui_elements;for(_i=0,_len=_ref.length;_i<_len;_i++){ui=_ref[_i];ui.remove()}return this.ui_elements=[]};Base.prototype.draw=function(){return this._calcDrawableArea()};Base.prototype.attachItemEvents=function(uiel,dataset,index){var _this=this;uiel.bind("mouseover,touchstart",function(){_this.tooltip.hide();_this.tooltip.html(_this.tootipHTML(dataset,index));_this.tooltip.show();clearTimeout(_this.tooltip_timeout);return _this.tooltip_timeout=setTimeout(_this.tooltip.hide,2e3)});return uiel.bind("mouseleave",function(e){clearTimeout(_this.tooltip_timeout);return _this.tooltip.hide()})};Base.prototype.tootipHTML=function(data,index){var value;value=data.values?data.values[index]:data.value;return""+data.name+"\n<h1>"+value+"</h1>"};Base.prototype._createSVG=function(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.setAttribute("width","100%");this.svg.setAttribute("height","100%");return this.container.appendChild(this.svg)};Base.prototype._calcDrawableArea=function(){this.drawable_width=this.width-this.options.marginLeft-this.options.marginRight;return this.drawable_height=this.height-this.options.marginTop-this.options.marginBottom};Base.prototype._appendUIElement=function(ui){this.ui_elements.push(ui);return this.svg.appendChild(ui.element)};Base.prototype._setMaxMin=function(){var dataset,vals,_i,_j,_len,_len1,_ref,_ref1;vals=[];if(this.data.dataset){_ref=this.data.dataset;for(_i=0,_len=_ref.length;_i<_len;_i++){dataset=_ref[_i];vals=vals.concat(dataset.values)}}else{_ref1=this.data;for(_j=0,_len1=_ref1.length;_j<_len1;_j++){dataset=_ref1[_j];vals=vals.concat(dataset.value)}}this.max=Maths.max(vals);return this.min=Maths.min(vals)};Base.prototype._setWidthHeight=function(){this.real_width=this.container.offsetWidth;this.real_height=this.container.offsetHeight;this.width=this.container.offsetWidth;return this.height=this.container.offsetHeight};Base.prototype._validData=function(){return true};return Base}();Base.Angular=function(_super){var NUM_COLORS;__extends(Angular,_super);NUM_COLORS=5;function Angular(){Angular.__super__.constructor.apply(this,arguments);this.width=100;this.height=100}Angular.prototype.draw=function(){this._calcDrawableArea();this._setMaxMin();this._setTotal();return this.drawItems()};Angular.prototype._calcDrawableArea=function(){this.real_margins={top:this.real_width*this.margins.top/100,right:this.real_width*this.margins.right/100,bottom:this.real_width*this.margins.bottom/100,left:this.real_width*this.margins.left/100};this.drawable_width=this.real_width-this.real_margins.left-this.real_margins.right;this.drawable_height=this.real_height-this.real_margins.top-this.real_margins.bottom;this.centerX=this.drawable_width/2+this.real_margins.left;this.centerY=this.drawable_height/2+this.real_margins.top;return this.radius=Maths.min([this.drawable_width,this.drawable_height])/2};Angular.prototype._setTotal=function(){var dataset,_i,_len,_ref,_results;this.total=0;_ref=this.data;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){dataset=_ref[_i];_results.push(this.total+=parseFloat(dataset.value))}return _results};Angular.prototype.polarToCartesian=function(angle,radius){if(radius==null){radius=null}radius=radius||this.radius;angle-=Math.PI/2;return{x:this.centerX+radius*Math.cos(angle),y:this.centerY+radius*Math.sin(angle)}};Angular.prototype.describeArc=function(startAngle,endAngle,factor){var arcSweep,end,radius,start;if(factor==null){factor=1}radius=this.radius*factor;start=this.polarToCartesian(endAngle,radius);end=this.polarToCartesian(startAngle,radius);arcSweep=endAngle-startAngle<=Math.PI?"0":"1";return"M "+start.x+" "+start.y+"\nA "+radius+" "+radius+" 0 "+arcSweep+" 0 "+end.x+", "+end.y+"\nL "+this.centerX+" "+this.centerY};Angular.prototype.drawItems=function(){var angle,color_index,data,endAngle,factor,index,label,startAngle,uiel,value,_i,_len,_ref,_results;startAngle=0;_ref=this.data;_results=[];for(index=_i=0,_len=_ref.length;_i<_len;index=++_i){data=_ref[index];label=data.name;value=data.value;factor=parseFloat(value/this.total);angle=2*Math.PI*factor;endAngle=startAngle+angle;color_index=index%NUM_COLORS;uiel=new UI.Element("path",{"class":"item index_"+color_index,d:this.describeArc(startAngle,endAngle)});this.attachItemEvents(uiel,data,color_index);this._appendUIElement(uiel);this._drawItemLabel(startAngle+angle*.5,""+label+" ("+value+")",factor,color_index);_results.push(startAngle+=angle)}return _results};Angular.prototype._drawItemLabel=function(angle,value,factor,color){var labelParams,labelPos,uiel;labelPos=this.polarToCartesian(angle,this.radius-10);labelParams={x:labelPos.x-2,y:labelPos.y,dy:10*Math.cos(angle),"text-anchor":angle>Math.PI?"start":"end"};uiel=new UI.Element("text",labelParams);uiel.element.textContent=Math.round(factor*100)+"%";return this._appendUIElement(uiel)};return Angular}(Base);Base.Linear=function(_super){__extends(Linear,_super);function Linear(){Linear.__super__.constructor.apply(this,arguments);this.ruler=new Ruler;this.width=100;this.height=100;this.units="%"}Linear.prototype.draw=function(){Linear.__super__.draw.apply(this,arguments);this._setItemAnchorSize();this._drawRuler();return this.drawItems()};Linear.prototype.drawItems=function(){var index,label,_i,_len,_ref;_ref=this.data.labels;for(index=_i=0,_len=_ref.length;_i<_len;index=++_i){label=_ref[index];this._drawItem(label,index)}return this._drawItemSeparator(index)};Linear.prototype._drawItem=function(label,index){var attributes,dataset,factor_h,factor_w,factor_x,factor_y,subindex,_i,_len,_ref;_ref=this.data.dataset;for(subindex=_i=0,_len=_ref.length;_i<_len;subindex=++_i){dataset=_ref[subindex];factor_h=this.calcItemH(dataset.values[index]);factor_y=this.calcItemY(index,dataset.values[index],factor_h,subindex);factor_w=this.calcItemW(dataset.values[index]);factor_x=this.calcItemX(index,dataset.values[index],factor_w,subindex);attributes={x:this.drawable_width*factor_x+this.options.marginLeft,y:this.drawable_height*factor_y+this.options.marginTop,width:this.drawable_width*factor_w,height:this.drawable_height*factor_h};this._drawBar(label,dataset,attributes,index,subindex)}this._drawBarLabel(label,attributes,index);return this._drawItemSeparator(index)};Linear.prototype._drawBar=function(label,dataset,attributes,index,subindex){var ui_bar;ui_bar=new UI.Element("rect",{x:""+attributes.x+this.units,y:""+attributes.y+this.units,width:""+attributes.width+this.units,height:""+attributes.height+this.units,"class":"item index_"+subindex});this.attachItemEvents(ui_bar,dataset,index);this._appendUIElement(ui_bar);if(this._appendAnimation){return this._appendAnimation(ui_bar)}};Linear.prototype._drawBarLabel=function(label,attributes,index){var labelAttributes,ui_label;labelAttributes={"pointer-events":"none"};if(this.ruler.axis==="y"){labelAttributes={x:""+(this.item_anchor_size*index+this.item_anchor_size/2+this.options.marginLeft)+this.units,y:""+(this.height-this.options.marginBottom*.5)+this.units,"text-anchor":"middle"}}else{labelAttributes={x:""+this.options.marginLeft+this.units,y:""+(this.item_anchor_size*index+this.item_anchor_size*.5+this.options.marginTop)+this.units,dx:"-1"+this.units,dy:"1"+this.units,"text-anchor":"end"}}ui_label=new UI.Element("text",labelAttributes);ui_label.element.textContent=label;return this._appendUIElement(ui_label)};Linear.prototype._drawRuler=function(){var coords,i,labelData,margins,zero_coords,_i,_j,_len,_len1,_ref,_ref1,_results;this.ruler.setLimits(this.min,this.max);margins={top:this.options.marginTop,right:this.options.marginRight,bottom:this.options.marginBottom,left:this.options.marginLeft};this.ruler.setLinearCoords(this.drawable_height,this.drawable_width,margins);this._drawRuleLine(this.ruler.coords.zero,true);_ref=this.ruler.coords.lines;for(_i=0,_len=_ref.length;_i<_len;_i++){coords=_ref[_i];this._drawRuleLine(coords)}zero_coords={x:this.ruler.coords.zero.x1,y:this.height-this.options.marginBottom,label:"0"};_ref1=this.ruler.coords.labels;_results=[];for(i=_j=0,_len1=_ref1.length;_j<_len1;i=++_j){labelData=_ref1[i];_results.push(this._drawRulerLabel(labelData))}return _results};Linear.prototype._drawRuleLine=function(coords,isZero){var line;if(isZero==null){isZero=false}line=new UI.Element("line",{x1:""+coords.x1+this.units,x2:""+coords.x2+this.units,y1:""+coords.y1+this.units,y2:""+coords.y2+this.units,"class":"ruler"+(isZero?" zero":"")});return this._appendUIElement(line)};Linear.prototype._drawRulerLabel=function(attributes,isZero){var labelDef,uiel;if(isZero==null){isZero=false}labelDef={x:""+attributes.x+this.units,y:""+attributes.y+this.units,"class":isZero?"zero":""};if(this.ruler.axis==="y"){labelDef.dx="-1"+this.units;labelDef.dy="1"+this.units;labelDef["text-anchor"]="end"}else{labelDef.dy="2"+this.units;labelDef["text-anchor"]="middle"}uiel=new UI.Element("text",labelDef);uiel.element.textContent=parseFloat(attributes.label).toFixed(2);return this._appendUIElement(uiel)};Linear.prototype._setItemAnchorSize=function(){return this};return Linear}(Base);Ruler=function(){var DEFAULT_NUM_DIVISORS,_getDefaultMargins;DEFAULT_NUM_DIVISORS=6;function Ruler(options){this.options=options!=null?options:{};this.num_divisors=this.options.num_divisors||DEFAULT_NUM_DIVISORS;this.divisors=[];this.axis="y";this.min=null;this.max=null;this.zero_pos=null}Ruler.prototype.setNumDivisors=function(num_divisors){this.num_divisors=num_divisors;return this};Ruler.prototype.setLimits=function(min,max){this.min=Maths.min([min,max,0]);this.max=Maths.max([min,max,0]);this._calcZero();return this._calcDivisors()};Ruler.prototype.setLinearCoords=function(){var args;args=1<=arguments.length?__slice.call(arguments,0):[];this.coords={};return this["_setLine"+this.axis.toUpperCase()+"Coords"].apply(this,args)};Ruler.prototype._setLineYCoords=function(height,width,margin){var delta,value,x1,x2,y,zeroY,_i,_len,_ref;if(margin==null){margin=null}margin=margin||_getDefaultMargins();delta=height/(this.divisors.length-1);y=margin.top;x1=margin.left;x2=width+margin.left;this.coords.lines=[];this.coords.labels=[];_ref=this.divisors.reverse();for(_i=0,_len=_ref.length;_i<_len;_i++){value=_ref[_i];this.coords.lines.push({x1:x1,x2:x2,y1:y,y2:y});this.coords.labels.push({x:margin.left,y:y,label:value});y+=delta}zeroY=(1-this.zero)*height+margin.top;return this.coords.zero={x1:x1,x2:x2,y1:zeroY,y2:zeroY}};Ruler.prototype._setLineXCoords=function(height,width,margin){var delta,value,x,y1,y2,zeroX,_i,_len,_ref;if(margin==null){margin=null}margin=margin||_getDefaultMargins();delta=width/(this.divisors.length-1);x=margin.left;y1=margin.top;y2=height+margin.top;this.coords.lines=[];this.coords.labels=[];_ref=this.divisors;for(_i=0,_len=_ref.length;_i<_len;_i++){value=_ref[_i];this.coords.lines.push({x1:x,x2:x,y1:y1,y2:y2});this.coords.labels.push({x:x,y:y2,label:value});x+=delta}zeroX=this.zero*width+margin.left;return this.coords.zero={y1:y1,y2:y2,x1:zeroX,x2:zeroX}};Ruler.prototype._calcDivisors=function(){var delta,i,_i,_ref,_results;this.divisors=[];delta=(this.max-this.min)/(this.num_divisors-1);_results=[];for(i=_i=0,_ref=this.num_divisors-1;0<=_ref?_i<=_ref:_i>=_ref;i=0<=_ref?++_i:--_i){_results.push(this.divisors.push(parseFloat(this.min+delta*i)))}return _results};Ruler.prototype._calcZero=function(){if(this.min>=0){return this.zero=0}else if(this.max<=0){return this.zero=1}else{return this.zero=Maths.rangeToPercent(0,this.min,this.max)}};_getDefaultMargins=function(){return{top:0,right:0,bottom:0,left:0}};return Ruler}();Tooltip=function(container,svg){var hide,html,init,show,text,_container,_el,_onMove,_svg;_container=container;_svg=svg;_el=null;init=function(){_el=document.createElement("div");_el.setAttribute("data-svgchart-tooltip","true");_container.appendChild(_el);return this};text=function(text){return _el.innerText=text};html=function(html){return _el.innerHTML=html};show=function(){_el.classList.add("show");_container.addEventListener("mousemove",_onMove);return _onMove()};hide=function(){_el.classList.remove("show");return _container.removeEventListener("mousemove",_onMove)};_onMove=function(e){if(e==null){e=event}_el.style.top=""+(e.pageY-20)+"px";return _el.style.left=""+(e.pageX+20)+"px"};return{init:init,text:text,html:html,show:show,hide:hide}};UI={};UI.Element=function(){function Element(type,attributes){var attr;this.type=type;this.attributes=attributes;this.element=document.createElementNS("http://www.w3.org/2000/svg",this.type);for(attr in this.attributes){this.attr(attr,attributes[attr])}}Element.prototype.attr=function(attribute,value){if(value){return this.element.setAttribute(attribute,value)}else{return this.element.getAttribute(attribute)}};Element.prototype.append=function(uiel){return this.element.appendChild(uiel.element)};Element.prototype.addClass=function(className){var current;current=this.attr("class");if(!current){return this.attr("class",className)}else if(current.split(" ").indexOf(className)===-1){return this.attr("class",""+current+" "+className)}};Element.prototype.removeClass=function(className){var classes,current,new_classes;current=this.attr("class");if(current){classes=current.split(" ");new_classes=classes.filter(function(cls){return cls!==className});return this.attr("class",new_classes.join(" "))}};Element.prototype.remove=function(){if(this.element.parentNode){return this.element.parentNode.removeChild(this.element)}};Element.prototype.bind=function(eventName,callback){var ev,_i,_len,_ref,_results;_ref=eventName.split(",");_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){ev=_ref[_i];_results.push(this.element.addEventListener(ev,callback,true))}return _results};return Element}();this.Chart=Chart={};Chart.Column=function(_super){var DEFAULT_OPTIONS;__extends(Column,_super);DEFAULT_OPTIONS={barsPadding:1,animationDuration:"0.6s",marginTop:2,marginRight:2,marginBottom:4,marginLeft:10};function Column(container,options){this.container=container;if(options==null){options={}}Column.__super__.constructor.apply(this,arguments);this.svg.setAttribute("data-svgchart-type","bar");options=Utils.mergeOptions(DEFAULT_OPTIONS,options);this.options=Utils.mergeOptions(this.options,options);this.ruler.axis="y"}Column.prototype._setItemAnchorSize=function(){return this.item_anchor_size=this.drawable_width/this.data.labels.length};Column.prototype.calcItemW=function(value){var w;w=Math.abs((this.item_anchor_size-this.options.barsPadding)/this.data.dataset.length/this.drawable_width);if(w===0){return.01}else{return w}};Column.prototype.calcItemH=function(value){var h;h=Math.abs(this.ruler.zero-Maths.rangeToPercent(value,this.ruler.min,this.ruler.max));if(h===0){return.01}else{return h}};Column.prototype.calcItemX=function(index,value,width,index2){var deltaX;deltaX=(this.item_anchor_size-this.options.barsPadding)/this.data.dataset.length*index2;return(this.item_anchor_size*index+deltaX+this.options.barsPadding*.5)/this.drawable_width};Column.prototype.calcItemY=function(index,value,height,index2){var v;v=value<0?this.ruler.zero:this.ruler.zero+height;return 1-v};Column.prototype._drawItemSeparator=function(index){var separator,x,y1,y2;x=this.item_anchor_size*index+this.options.marginLeft;y1=this.options.marginTop;y2=this.options.marginTop+this.drawable_height;separator=new UI.Element("line",{x1:""+x+this.units,x2:""+x+this.units,y1:""+y1+this.units,y2:""+y2+this.units,"class":"ruler item_separator"});return this._appendUIElement(separator)};Column.prototype._appendAnimation=function(el){el.append(new UI.Element("animate",{attributeType:"XML",attributeName:"height",begin:"0s",dur:this.options.animationDuration,fill:"freeze",from:"0",to:el.attr("height")}));if(parseFloat(el.attr("y"))<this.ruler.coords.zero.y1){return el.append(new UI.Element("animate",{attributeType:"XML",attributeName:"y",begin:"0s",dur:this.options.animationDuration,fill:"freeze",from:""+this.ruler.coords.zero.y1+"%",to:el.attr("y")}))}};return Column}(Base.Linear);ChartLine=function(_super){var DEFAULT_OPTIONS;__extends(ChartLine,_super);DEFAULT_OPTIONS={marginTop:10,marginRight:10,marginBottom:10,marginLeft:10,bezierTension:.5};function ChartLine(container,options){this.container=container;if(options==null){options={}}ChartLine.__super__.constructor.apply(this,arguments);options=Utils.mergeOptions(DEFAULT_OPTIONS,options);this.options=Utils.mergeOptions(this.options,options)}ChartLine.prototype.drawItems=function(){var dataset,index,point,points,subindex,value,_i,_j,_len,_len1,_ref,_ref1;_ref=this.data.dataset;for(index=_i=0,_len=_ref.length;_i<_len;index=++_i){dataset=_ref[index];points=[];_ref1=dataset.values;for(subindex=_j=0,_len1=_ref1.length;_j<_len1;subindex=++_j){value=_ref1[subindex];point=this._getPointCoords(dataset,value,index,subindex);points.push(point);if(index===0){this._drawItemLabel(subindex,point)}}this._drawPath(points,index);this._drawDataset(points,index,dataset)}return this._drawSeparators(points)};ChartLine.prototype._getPointCoords=function(dataset,value,index,subindex){var factor_y,zero_y;zero_y=((1-this.ruler.zero)*this.drawable_height+this.options.marginTop)*this.real_height/100;factor_y=1-Maths.rangeToPercent(value,this.ruler.min,this.ruler.max);return{x:(this.item_anchor_size*subindex+this.options.marginLeft)*this.real_width/100,y:(this.options.marginTop+this.drawable_height*factor_y)*this.real_height/100}};ChartLine.prototype._drawDataset=function(points,index,dataset){var attributes,el,point,subindex,_i,_len,_results;_results=[];for(subindex=_i=0,_len=points.length;_i<_len;subindex=++_i){point=points[subindex];attributes={r:6,cx:""+point.x,cy:""+point.y,"class":"item index_"+index};el=new UI.Element("circle",attributes);this._appendUIElement(el);_results.push(this.attachItemEvents(el,dataset,subindex))}return _results};ChartLine.prototype._drawSeparators=function(points){var point,_i,_len,_results;_results=[];for(_i=0,_len=points.length;_i<_len;_i++){point=points[_i];_results.push(this._appendUIElement(new UI.Element("line",{x1:point.x,x2:point.x,y1:""+this.options.marginTop+this.units,y2:""+(this.options.marginTop+this.drawable_height)+this.units,"class":"ruler"})))}return _results};ChartLine.prototype._drawItemLabel=function(index,point){var label,labelEl;label=this.data.labels[index];labelEl=new UI.Element("text",{x:point.x,y:""+(this.height-this.options.marginBottom/2)+this.units,"text-anchor":"middle"});labelEl.element.textContent=label;return this._appendUIElement(labelEl)};ChartLine.prototype._drawPath=function(points,index){var end_zero_x,i,num_points,path,pathDef,start_zero_x,xdiff,zero_y,_i,_ref;start_zero_x=this.options.marginLeft*this.real_width/100;zero_y=((1-this.ruler.zero)*this.drawable_height+this.options.marginTop)*this.real_height/100;end_zero_x=(this.options.marginLeft+this.drawable_width)*this.real_width/100;pathDef=[];if(this.fill_item){pathDef.push("M "+start_zero_x+" "+zero_y);pathDef.push("L "+points[0].x+","+points[0].y)}else{pathDef.push("M "+points[0].x+","+points[0].y)}num_points=points.length;for(i=_i=0,_ref=num_points-2;0<=_ref?_i<=_ref:_i>=_ref;i=0<=_ref?++_i:--_i){xdiff=(points[i+1].x-points[i].x)*this.options.bezierTension;pathDef.push("C");pathDef.push(""+(points[i].x+xdiff)+","+points[i].y);pathDef.push(""+(points[i+1].x-xdiff)+","+points[i+1].y);pathDef.push(""+points[i+1].x+","+points[i+1].y)}if(this.fill_item){pathDef.push("L "+end_zero_x+","+zero_y)}path=new UI.Element("path",{"class":"item index_"+index,d:pathDef.join(" ")});return this._appendUIElement(path)};ChartLine.prototype._setItemAnchorSize=function(){return this.item_anchor_size=this.drawable_width/(this.data.labels.length-1)};return ChartLine}(Base.Linear);Chart.Line=function(_super){__extends(Line,_super);function Line(container,options){this.container=container;if(options==null){options={}}Line.__super__.constructor.apply(this,arguments);this.svg.setAttribute("data-svgchart-type","line");this.options.bezierTension=options.bezierTension||0;this.fill_item=false}return Line}(ChartLine);Chart.Area=function(_super){__extends(Area,_super);function Area(container,options){this.container=container;if(options==null){options={}}Area.__super__.constructor.apply(this,arguments);this.svg.setAttribute("data-svgchart-type","area");this.options.bezierTension=options.bezierTension||this.options.bezierTension;this.fill_item=true}return Area}(ChartLine);Chart.Point=function(_super){__extends(Point,_super);function Point(container,options){this.container=container;if(options==null){options={}}Point.__super__.constructor.apply(this,arguments);this.svg.setAttribute("data-svgchart-type","point");this.options.bezierTension=options.bezierTension||this.options.bezierTension;this.fill_item=false;this._drawPath=function(){return this}}return Point}(ChartLine);Chart.Pie=function(_super){__extends(Pie,_super);function Pie(){Pie.__super__.constructor.apply(this,arguments);this.svg.setAttribute("data-svgchart-type","pie");this.margins={top:5,right:5,bottom:5,left:5};this.width=100;this.height=100}return Pie}(Base.Angular);Chart.Row=function(_super){var DEFAULT_OPTIONS;__extends(Row,_super);DEFAULT_OPTIONS={barsPadding:1,animationDuration:"0.6s",marginTop:2,marginRight:2,marginBottom:4,marginLeft:10};function Row(container,options){this.container=container;if(options==null){options={}}Row.__super__.constructor.apply(this,arguments);this.svg.setAttribute("data-svgchart-type","row");options=Utils.mergeOptions(DEFAULT_OPTIONS,options);this.options=Utils.mergeOptions(this.options,options);this.ruler.axis="x"}Row.prototype._setItemAnchorSize=function(){return this.item_anchor_size=this.drawable_height/this.data.labels.length};Row.prototype.calcItemW=function(value){var w;w=Math.abs(this.ruler.zero-Maths.rangeToPercent(value,this.ruler.min,this.ruler.max));if(w===0){return.01}else{return w}};Row.prototype.calcItemH=function(value){var h;h=Math.abs((this.item_anchor_size-this.options.barsPadding)/this.data.dataset.length/this.drawable_height);if(h===0){return.01}else{return h}};Row.prototype.calcItemX=function(index,value,width){if(value<0){return this.ruler.zero-width}else{return this.ruler.zero}};Row.prototype.calcItemY=function(index,value,height,index2){var deltaX;deltaX=(this.item_anchor_size-this.options.barsPadding)/this.data.dataset.length*index2;return(this.item_anchor_size*index+deltaX+this.options.barsPadding*.5)/this.drawable_height};Row.prototype._drawItemSeparator=function(index){var separator,x1,x2,y;y=this.item_anchor_size*index+this.options.marginTop;x1=this.options.marginLeft;x2=this.options.marginLeft+this.drawable_width;separator=new UI.Element("line",{x1:""+x1+this.units,x2:""+x2+this.units,y1:""+y+this.units,y2:""+y+this.units,"class":"ruler item_separator"});return this._appendUIElement(separator)};Row.prototype._appendAnimation=function(el){el.append(new UI.Element("animate",{attributeType:"XML",attributeName:"width",begin:"0s",dur:this.options.animationDuration,fill:"freeze",from:"0",to:el.attr("width")}));if(parseFloat(el.attr("x"))<this.ruler.coords.zero.x1){return el.append(new UI.Element("animate",{attributeType:"XML",attributeName:"x",begin:"0s",dur:this.options.animationDuration,fill:"freeze",from:""+this.ruler.coords.zero.x1+"%",to:el.attr("x")}))}};return Row}(Base.Linear)}).call(this);